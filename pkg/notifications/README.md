<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# notifications

```go
import "github.com/greenbone/opensight-golang-libraries/pkg/notifications"
```

Package Notifications provides a client to communicate with the OpenSight Notification Service [github.com/greenbone/opensight\\\-notification\\\-service](<https://pkg.go.dev/github.com/greenbone/opensight-notification-service/>)

## Index

- [type Client](<#Client>)
  - [func NewClient\(httpClient \*http.Client, config Config, authCfg auth.KeycloakConfig\) \*Client](<#NewClient>)
  - [func \(c \*Client\) CreateNotification\(ctx context.Context, notification Notification\) error](<#Client.CreateNotification>)
- [type Config](<#Config>)
- [type Level](<#Level>)
- [type Notification](<#Notification>)


<a name="Client"></a>
## type [Client](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/notifications/notification.go#L27-L34>)

Client can be used to send notifications

```go
type Client struct {
    // contains filtered or unexported fields
}
```

<a name="NewClient"></a>
### func [NewClient](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/notifications/notification.go#L46>)

```go
func NewClient(httpClient *http.Client, config Config, authCfg auth.KeycloakConfig) *Client
```

NewClient returns a new [Client](<#Client>) with the notification service address \(host:port\) set. As httpClient you can use e.g. \[http.DefaultClient\].

<a name="Client.CreateNotification"></a>
### func \(\*Client\) [CreateNotification](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/notifications/notification.go#L62>)

```go
func (c *Client) CreateNotification(ctx context.Context, notification Notification) error
```

CreateNotification sends a notification to the notification service. It is retried up to the configured number of retries with an exponential backoff, So it can take some time until the functions returns.

<a name="Config"></a>
## type [Config](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/notifications/notification.go#L37-L42>)

Config configures the notification service client

```go
type Config struct {
    Address      string
    MaxRetries   int
    RetryWaitMin time.Duration
    RetryWaitMax time.Duration
}
```

<a name="Level"></a>
## type [Level](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/notifications/model.go#L36>)

Level describes the severity of the notification

```go
type Level string
```

<a name="LevelInfo"></a>

```go
const (
    LevelInfo    Level = "info"
    LevelWarning Level = "warning"
    LevelError   Level = "error"
)
```

<a name="Notification"></a>
## type [Notification](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/notifications/model.go#L9-L19>)



```go
type Notification struct {
    // omit property `Id` here, as it is read only
    Origin           string    // name of the origin, e.g. `SBOM - React`
    OriginClass      string    // unique identifier for the class of origins, e.g. `/vi/SBOM`
    OriginResourceID string    // optional, together with class it can be used to provide a link to the origin, e.g. `<id of react sbom object>`
    Timestamp        time.Time // client will set timestamp if not set
    Title            string    // can also be seen as the 'type'
    Detail           string
    Level            Level
    CustomFields     map[string]any // optional, can contain arbitrary structured information about the notification
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->