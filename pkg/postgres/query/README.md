<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# query

```go
import "github.com/greenbone/opensight-golang-libraries/pkg/postgres/query"
```

Package query facilitates the translation of a result selector into a PostgresSQL conditional query string, incorporating sorting and paging functionalities.

Example Usage:

```go
func ListExamples(ctx context.Context, resultSelector query.ResultSelector) (examples []Examples, totalResult uint64, err error) {
    querySettings := &query.Settings{
        FilterFieldMapping: exampleFieldMapping(),
	}
    qb := query.NewPostgresQueryBuilder(querySettings)
    listQueryWithResultSelector := qb.Build(resultSelector)

    listQuery := unfilteredListExampleQuery + listQueryWithResultSelector
}
```

## Index

- [type Builder](<#Builder>)
  - [func NewPostgresQueryBuilder\(querySetting \*Settings\) \*Builder](<#NewPostgresQueryBuilder>)
  - [func \(qb \*Builder\) AddFilterRequest\(request \*filter.Request\) error](<#Builder.AddFilterRequest>)
  - [func \(qb \*Builder\) AddPaging\(paging \*paging.Request\) error](<#Builder.AddPaging>)
  - [func \(qb \*Builder\) AddSorting\(sort \*sorting.Request\) error](<#Builder.AddSorting>)
  - [func \(qb \*Builder\) Build\(resultSelector query.ResultSelector\) string](<#Builder.Build>)
- [type Settings](<#Settings>)


<a name="Builder"></a>
## type [Builder](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/postgres/query/builder.go#L21-L24>)

Builder represents a query builder used to construct PostgresSQL conditional query strings with sorting and paging functionalities.

```go
type Builder struct {
    // contains filtered or unexported fields
}
```

<a name="NewPostgresQueryBuilder"></a>
### func [NewPostgresQueryBuilder](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/postgres/query/builder.go#L27>)

```go
func NewPostgresQueryBuilder(querySetting *Settings) *Builder
```

NewPostgresQueryBuilder creates a new instance of the query builder with the provided settings.

<a name="Builder.AddFilterRequest"></a>
### func \(\*Builder\) [AddFilterRequest](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/postgres/query/builder.go#L35>)

```go
func (qb *Builder) AddFilterRequest(request *filter.Request) error
```

AddFilterRequest appends filter conditions to the query builder based on the provided filter request. It constructs conditional clauses using the logic operator specified in the request.

<a name="Builder.AddPaging"></a>
### func \(\*Builder\) [AddPaging](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/postgres/query/builder.go#L99>)

```go
func (qb *Builder) AddPaging(paging *paging.Request) error
```

AddPaging appends paging conditions to the query builder based on the provided paging request. It constructs the OFFSET and LIMIT clauses according to the specified page index and page size.

<a name="Builder.AddSorting"></a>
### func \(\*Builder\) [AddSorting](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/postgres/query/builder.go#L89>)

```go
func (qb *Builder) AddSorting(sort *sorting.Request) error
```

AddSorting appends sorting conditions to the query builder based on the provided sorting request. It constructs the ORDER BY clause using the specified sort column and direction.

<a name="Builder.Build"></a>
### func \(\*Builder\) [Build](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/postgres/query/builder.go#L145>)

```go
func (qb *Builder) Build(resultSelector query.ResultSelector) string
```

Build generates the complete SQL query based on the provided result selector. It constructs the query by adding filter, sorting, and paging conditions. If any error occurs during the construction, it returns an empty string.

<a name="Settings"></a>
## type [Settings](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/postgres/query/builder.go#L15-L17>)

Settings is a configuration struct used to customize the behavior of the query builder.

```go
type Settings struct {
    FilterFieldMapping map[string]string // Mapping of filter fields for query customization
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->