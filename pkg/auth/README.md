<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# auth

```go
import "github.com/greenbone/opensight-golang-libraries/pkg/auth"
```

Package auth provides a client to authenticate against a Keycloak server.

## Index

- [type KeycloakClient](<#KeycloakClient>)
  - [func NewKeycloakClient\(httpClient \*http.Client, cfg KeycloakConfig\) \*KeycloakClient](<#NewKeycloakClient>)
  - [func \(c \*KeycloakClient\) GetToken\(ctx context.Context\) \(string, error\)](<#KeycloakClient.GetToken>)
- [type KeycloakConfig](<#KeycloakConfig>)


<a name="KeycloakClient"></a>
## type [KeycloakClient](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/auth/auth_client.go#L42-L47>)

KeycloakClient can be used to authenticate against a Keycloak server.

```go
type KeycloakClient struct {
    // contains filtered or unexported fields
}
```

<a name="NewKeycloakClient"></a>
### func [NewKeycloakClient](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/auth/auth_client.go#L50>)

```go
func NewKeycloakClient(httpClient *http.Client, cfg KeycloakConfig) *KeycloakClient
```

NewKeycloakClient creates a new KeycloakClient.

<a name="KeycloakClient.GetToken"></a>
### func \(\*KeycloakClient\) [GetToken](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/auth/auth_client.go#L60>)

```go
func (c *KeycloakClient) GetToken(ctx context.Context) (string, error)
```

GetToken retrieves a valid access token. The token is cached and refreshed before expiry. The token is obtained by \`Resource owner password credentials grant\` flow. Ref: https://www.keycloak.org/docs/latest/server_admin/index.html#_oidc-auth-flows-direct

<a name="KeycloakConfig"></a>
## type [KeycloakConfig](<https://github.com/greenbone/opensight-golang-libraries/blob/main/pkg/auth/auth_client.go#L23-L29>)

KeycloakConfig holds the credentials and configuration details

```go
type KeycloakConfig struct {
    ClientID      string
    Username      string
    Password      string
    AuthURL       string
    KeycloakRealm string
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->