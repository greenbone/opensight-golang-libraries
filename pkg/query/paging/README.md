![Greenbone Logo](https://www.greenbone.net/wp-content/uploads/gb_new-logo_horizontal_rgb_small.png)

<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# paging

```go
import "github.com/greenbone/opensight-golang-libraries/pkg/query/paging"
```

## Index

- [func AddRequest\(transaction \*gorm.DB, request \*Request\) \*gorm.DB](<#AddRequest>)
- [func NewPagingError\(format string, value ...any\) error](<#NewPagingError>)
- [type Error](<#Error>)
  - [func \(e \*Error\) Error\(\) string](<#Error.Error>)
- [type PagingSettingsInterface](<#PagingSettingsInterface>)
- [type Request](<#Request>)
  - [func ValidateAndApplyPagingRules\(model PagingSettingsInterface, request \*Request\) \(\*Request, error\)](<#ValidateAndApplyPagingRules>)
- [type Response](<#Response>)
  - [func NewResponse\(request \*Request, totalDisplayableResults uint64\) \*Response](<#NewResponse>)
  - [func NewResponseWithTotalResults\(request \*Request, totalResults, resultLimit uint64\) \*Response](<#NewResponseWithTotalResults>)


<a name="AddRequest"></a>
## func AddRequest

```go
func AddRequest(transaction *gorm.DB, request *Request) *gorm.DB
```

AddRequest adds pagination to the gorm transaction based on the given request.

transaction: The GORM database transaction. request: The request object containing pagination information.

- PageIndex: The index of the page to retrieve \(starting from 0\).
- PageSize: The number of records to retrieve per page.

Returns the modified transaction with the pagination applied.

<a name="NewPagingError"></a>
## func NewPagingError

```go
func NewPagingError(format string, value ...any) error
```



<a name="Error"></a>
## type Error



```go
type Error struct {
    Msg string
}
```

<a name="Error.Error"></a>
### func \(\*Error\) Error

```go
func (e *Error) Error() string
```



<a name="PagingSettingsInterface"></a>
## type PagingSettingsInterface



```go
type PagingSettingsInterface interface {
    GetPagingDefault() (pageSize int)
}
```

<a name="Request"></a>
## type Request



```go
type Request struct {
    PageIndex int `json:"index"`
    PageSize  int `json:"size"`
}
```

<a name="ValidateAndApplyPagingRules"></a>
### func ValidateAndApplyPagingRules

```go
func ValidateAndApplyPagingRules(model PagingSettingsInterface, request *Request) (*Request, error)
```

ValidateAndApplyPagingRules performs a validation of the original request and adds correct the correct values \(defaults\) if needed

<a name="Response"></a>
## type Response

Response represents a response object containing information about pagination and total count of records.

- PageIndex: The index of the page \(starting from 0\). This is required.
- PageSize: The number of records per page. This is required.
- TotalDisplayableResults: The total number of results that can be paginated. Due to database restrictions, in case of large number of results, some of the results cannot be retrieved. In such cases, this number will be lower than the \`TotalResults\`. This is required.
- TotalResults: The total count of results as it exists in database, including those that may not be retrieved. This is optional and must not be set if the value does not differ from \`TotalDisplayableResults\`

```go
type Response struct {
    PageIndex               int    `json:"index" binding:"required"`
    PageSize                int    `json:"size" binding:"required"`
    TotalDisplayableResults uint64 `json:"totalDisplayableResults" binding:"required"`
    TotalResults            uint64 `json:"totalResults,omitempty"`
}
```

<a name="NewResponse"></a>
### func NewResponse

```go
func NewResponse(request *Request, totalDisplayableResults uint64) *Response
```



<a name="NewResponseWithTotalResults"></a>
### func NewResponseWithTotalResults

```go
func NewResponseWithTotalResults(request *Request, totalResults, resultLimit uint64) *Response
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->

# License

Copyright (C) 2022-2023 [Greenbone AG][Greenbone AG]

Licensed under the [GNU General Public License v3.0 or later](../../../LICENSE).